{"ts":1377176806517,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<?php\n\n/**\n * DB class for some basic simpilification in future odbc functions will be here however for ORM class nothing will change\n * @author Ervin\n */\nclass db{\n    /**\n     * clenske promene\n     */\n    protected static $user;\n    protected static $pass;\n    protected static $database;\n    protected static $address;\n    protected static $link;\n    protected static $db_selected;\n    \n    /**\n     * konstruktor\n     */\n    public function __construct() {\n        \n    }\n    \n    /**\n     * metody\n     */\n    \n    public static function init() {\n        self::$address=_DB_ADDRESS;\n        self::$user=_DB_USER;\n        self::$pass=_DB_PASS;\n        self::$database=_DB_DATABASE;\n    }\n\n\n    public static function makeSafe($str)\n    {\n        return mysql_real_escape_string(strip_tags(stripcslashes($str)));\n    }\n    \n    public static function conect(){\n        \n        self::$link=mysql_connect(self::$address, self::$user, self::$pass);\n        self::$db_selected=mysql_select_db(self::$database) or\n            die(\"Could not select database: \" . mysql_error());\n        mysql_query(\"SET CHARACTER SET utf8\");\n        \n        if(!self::$link){\n            die(\"Could not connect: \" . mysql_error());\n            return false;\n        }\n        elseif(!self::$db_selected){\n            die(\"Could not select database: \" . mysql_error());\n            return false;\n        }\n        else{return self::$link;}\n    }\n    \n    public static function query($sql){\n        $result=mysql_query($sql, self::$link);\n        return $result;\n    }\n    \n    public static function fetch_array($result){\n        if(is_resource($result)){\n            $data=mysql_fetch_array($result);\n            return $data;\n        }\n        return FALSE;\n    }\n    \n    public static function num_rows($result){\n        $row=mysql_num_rows($result);\n        return $row;\n    }\n}\n\n//end of file db.php\n"]],"start1":0,"start2":0,"length1":0,"length2":1890}]],"length":1890}
